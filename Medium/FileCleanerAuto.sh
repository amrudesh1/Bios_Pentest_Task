#! /usr/bin/env bash 

get_crtime() {
   for target in "${@}"; do
       inode=$(stat -c %i "${target}")
       fs=$(df "${target}"  | tail -1 | awk '{print $1}')
       crtime=$(sudo debugfs -R 'stat <'"${inode}"'>' "${fs}" 2>/dev/null | grep -oP 'crtime.*--\s*\K.*')
       printf "%s\t%s\n" "${target}" "${crtime}"
   done
}

downloads_path=$HOME"/Downloads"
cd $downloads_path

declare -a file_array
declare -a folder_array

file_array="$(find . -maxdepth 1 -not -type d)"
folder_array="$(find . -maxdepth 1 -not -type f)"
for i in "${file_array[@]}";
do
  get_crtime ${i}
done

