def encrypt_string(plain_text, key):
    encrypted_text = ''
    for i in range(len(plain_text)):
        if not plain_text[i].isalnum():
            encrypted_text = encrypted_text + plain_text[i]
        elif plain_text[i].isupper():
            encrypted_text = encrypted_text + chr((ord(plain_text[i]) + key - 65) % 26 + 65)
        else:
            encrypted_text = encrypted_text + chr((ord(plain_text[i]) + key - 97) % 26 + 97)
    return encrypted_text


def decrypt_string(enc_text, key):
    decrypted_text = ''
    for i in range(len(enc_text)):
        if not enc_text[i].isalnum():
            decrypted_text = decrypted_text + enc_text[i]
        elif enc_text[i].isupper():
            decrypted_text = decrypted_text + chr((ord(enc_text[i]) - key - 65) % 26 + 65)
        else:
            decrypted_text = decrypted_text + chr((ord(enc_text[i]) - key - 97) % 26 + 97)
    return decrypted_text


if __name__ == '__main__':
    enc_dnc_key = int(input())
    enc_or_dnc = int(input())
    enc_dnc_text = str(input())

    if enc_or_dnc == 0:
        print(encrypt_string(enc_dnc_text, enc_dnc_key))
    else:
        print(decrypt_string(enc_dnc_text, enc_dnc_key))
